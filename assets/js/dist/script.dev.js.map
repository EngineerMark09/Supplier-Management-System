{"version":3,"sources":["script.js"],"names":["$","document","ready","loadSuppliers","loadSuppliersTab","click","e","preventDefault","tab","data","removeClass","addClass","titles","text","updateSettingsInfo","openSupplierModal","hide","window","event","target","id","submit","val","url","formData","company_name","contact_person","email","phone","address","status","ajax","type","JSON","stringify","contentType","success","response","reset","showAlert","message","error","xhr","msg","responseJSON","on","dataType","css","confirm","filterTable","tableId","searchValue","toLowerCase","statusValue","filter","company","find","contact","statusCell","matchesSearch","indexOf","matchesStatus","toggle","rows","length","activeCount","item","each","i","statusBadge","getStatusBadge","html","alertBox","fadeIn","setTimeout","fadeOut","badgeClass"],"mappings":"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","sourcesContent":["// Dashboard main script\r\n$(document).ready(function() {\r\n    \r\n    // Load suppliers on page load\r\n    loadSuppliers();\r\n    loadSuppliersTab();\r\n\r\n    // Tab Navigation\r\n    $('.nav-link[data-tab]').click(function(e) {\r\n        e.preventDefault();\r\n        var tab = $(this).data('tab');\r\n        \r\n        // Update active state\r\n        $('.nav-link').removeClass('active');\r\n        $(this).addClass('active');\r\n        \r\n        // Show corresponding tab content\r\n        $('.tab-content').removeClass('active');\r\n        $('#tab-' + tab).addClass('active');\r\n        \r\n        // Update page title\r\n        var titles = {\r\n            'dashboard': 'Dashboard',\r\n            'suppliers': 'Supplier Management',\r\n            'settings': 'System Settings'\r\n        };\r\n        $('#page-title').text(titles[tab] || 'Dashboard');\r\n        \r\n        // Reload data if switching to suppliers tab\r\n        if(tab === 'suppliers') {\r\n            loadSuppliersTab();\r\n        }\r\n        \r\n        // Update settings info if switching to settings\r\n        if(tab === 'settings') {\r\n            updateSettingsInfo();\r\n        }\r\n    });\r\n\r\n    // Open Modal for Adding (Dashboard)\r\n    $('#btn-add-supplier').click(function() {\r\n        openSupplierModal();\r\n    });\r\n\r\n    // Open Modal for Adding (Suppliers Tab)\r\n    $('#btn-add-supplier-tab').click(function() {\r\n        openSupplierModal();\r\n    });\r\n\r\n    // Close Modal\r\n    $('.close-modal, .close-modal-btn').click(function() {\r\n        $('#supplier-modal').hide();\r\n    });\r\n\r\n    // Close modal when clicking outside\r\n    $(window).click(function(event) {\r\n        if (event.target.id == 'supplier-modal') {\r\n            $('#supplier-modal').hide();\r\n        }\r\n    });\r\n\r\n    // Handle Form Submission (Create & Update)\r\n    $('#supplier-form').submit(function(e) {\r\n        e.preventDefault();\r\n        \r\n        // Check if editing or creating\r\n        var id = $('#supplier_id').val();\r\n        var url = id ? 'api/update.php' : 'api/create.php';\r\n        var formData = {\r\n            id: id,\r\n            company_name: $('#company_name').val(),\r\n            contact_person: $('#contact_person').val(),\r\n            email: $('#email').val(),\r\n            phone: $('#phone').val(),\r\n            address: $('#address').val(),\r\n            status: $('#status').val()\r\n        };\r\n\r\n        $.ajax({\r\n            url: url,\r\n            type: 'POST',\r\n            data: JSON.stringify(formData),\r\n            contentType: 'application/json',\r\n            success: function(response) {\r\n                $('#supplier-modal').hide();\r\n                $('#supplier-form')[0].reset();\r\n                showAlert('success', response.message);\r\n                loadSuppliers();\r\n                loadSuppliersTab();\r\n            },\r\n            error: function(xhr, status, error) {\r\n                var msg = xhr.responseJSON ? xhr.responseJSON.message : 'An error occurred';\r\n                showAlert('error', msg);\r\n            }\r\n        });\r\n    });\r\n\r\n    // Handle Edit Button\r\n    $(document).on('click', '.btn-edit', function() {\r\n        var id = $(this).data('id');\r\n        \r\n        $.ajax({\r\n            url: 'api/get_single.php?id=' + id,\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            success: function(data) {\r\n                $('#supplier_id').val(data.id);\r\n                $('#company_name').val(data.company_name);\r\n                $('#contact_person').val(data.contact_person);\r\n                $('#email').val(data.email);\r\n                $('#phone').val(data.phone);\r\n                $('#address').val(data.address);\r\n                $('#status').val(data.status || 'Active');\r\n                \r\n                $('#modal-title').text('Edit Supplier');\r\n                $('#supplier-modal').css('display', 'flex');\r\n            },\r\n            error: function() {\r\n                showAlert('error', 'Could not fetch supplier details.');\r\n            }\r\n        });\r\n    });\r\n\r\n    // Handle Delete Button\r\n    $(document).on('click', '.btn-delete', function() {\r\n        if(confirm('Are you sure you want to delete this supplier?')) {\r\n            var id = $(this).data('id');\r\n            \r\n            $.ajax({\r\n                url: 'api/delete.php',\r\n                type: 'POST',\r\n                data: JSON.stringify({ id: id }),\r\n                contentType: 'application/json',\r\n                success: function(response) {\r\n                    showAlert('success', response.message);\r\n                    loadSuppliers();\r\n                    loadSuppliersTab();\r\n                },\r\n                error: function(xhr) {\r\n                    var msg = xhr.responseJSON ? xhr.responseJSON.message : 'Delete failed';\r\n                    showAlert('error', msg);\r\n                }\r\n            });\r\n        }\r\n    });\r\n\r\n    // Search Functionality\r\n    $('#search-input').on('keyup', function() {\r\n        filterTable('#suppliers-table');\r\n    });\r\n\r\n    // Search Functionality (Suppliers Tab)\r\n    $('#search-input-suppliers').on('keyup', function() {\r\n        filterTable('#suppliers-table-tab');\r\n    });\r\n\r\n    // Status Filter (Dashboard)\r\n    $('#status-filter').on('change', function() {\r\n        filterTable('#suppliers-table');\r\n    });\r\n\r\n    // Status Filter (Suppliers Tab)\r\n    $('#status-filter-suppliers').on('change', function() {\r\n        filterTable('#suppliers-table-tab');\r\n    });\r\n\r\n    // Functions\r\n    // Filter by search and status\r\n    function filterTable(tableId) {\r\n        var searchValue = tableId === '#suppliers-table' ? \r\n            $('#search-input').val().toLowerCase() : \r\n            $('#search-input-suppliers').val().toLowerCase();\r\n        var statusValue = tableId === '#suppliers-table' ? \r\n            $('#status-filter').val() : \r\n            $('#status-filter-suppliers').val();\r\n\r\n        $(tableId + \" tbody tr\").filter(function() {\r\n            // Get individual cell values for better search\r\n            var company = $(this).find('td:nth-child(2)').text().toLowerCase();\r\n            var contact = $(this).find('td:nth-child(3)').text().toLowerCase();\r\n            var email = $(this).find('td:nth-child(4)').text().toLowerCase();\r\n            var phone = $(this).find('td:nth-child(5)').text().toLowerCase();\r\n            \r\n            var statusCell, address = '';\r\n            if (tableId === '#suppliers-table-tab') {\r\n                address = $(this).find('td:nth-child(6)').text().toLowerCase();\r\n                statusCell = $(this).find('td:nth-child(7)').text();\r\n            } else {\r\n                statusCell = $(this).find('td:nth-child(6)').text();\r\n            }\r\n            \r\n            // Check if search matches any field\r\n            var matchesSearch = searchValue === '' || \r\n                company.indexOf(searchValue) > -1 ||\r\n                contact.indexOf(searchValue) > -1 ||\r\n                email.indexOf(searchValue) > -1 ||\r\n                phone.indexOf(searchValue) > -1 ||\r\n                address.indexOf(searchValue) > -1 ||\r\n                statusCell.toLowerCase().indexOf(searchValue) > -1;\r\n            \r\n            var matchesStatus = statusValue === '' || statusCell === statusValue;\r\n            $(this).toggle(matchesSearch && matchesStatus);\r\n        });\r\n    }\r\n\r\n    function openSupplierModal() {\r\n        $('#modal-title').text('Add Supplier');\r\n        $('#supplier-form')[0].reset();\r\n        $('#supplier_id').val('');\r\n        $('#status').val('Active'); // Set default status to Active\r\n        $('#supplier-modal').css('display', 'flex');\r\n    }\r\n\r\n    // Load dashboard data\r\n    function loadSuppliers() {\r\n        $.ajax({\r\n            url: 'api/read.php',\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            success: function(data) {\r\n                var rows = '';\r\n                if(data.length > 0) {\r\n                    $('#total-suppliers').text(data.length);\r\n                    \r\n                    // Count active suppliers\r\n                    var activeCount = data.filter(function(item) {\r\n                        return (item.status || 'Active') === 'Active';\r\n                    }).length;\r\n                    $('#active-suppliers').text(activeCount);\r\n                    \r\n                    $.each(data, function(i, item) {\r\n                        var statusBadge = getStatusBadge(item.status || 'Active');\r\n                        rows += `<tr>\r\n                            <td>${item.id}</td>\r\n                            <td>${item.company_name}</td>\r\n                            <td>${item.contact_person}</td>\r\n                            <td>${item.email}</td>\r\n                            <td>${item.phone}</td>\r\n                            <td>${statusBadge}</td>\r\n                            <td>\r\n                                <button class=\"btn-sm btn-edit\" data-id=\"${item.id}\"><i class=\"fa-solid fa-pen\"></i></button>\r\n                                <button class=\"btn-sm btn-delete\" data-id=\"${item.id}\"><i class=\"fa-solid fa-trash\"></i></button>\r\n                            </td>\r\n                        </tr>`;\r\n                    });\r\n                } else {\r\n                    $('#total-suppliers').text('0');\r\n                    $('#active-suppliers').text('0');\r\n                    rows = '<tr><td colspan=\"7\" style=\"text-align:center\">No suppliers found.</td></tr>';\r\n                }\r\n                $('#suppliers-table tbody').html(rows);\r\n            },\r\n            error: function() {\r\n                $('#suppliers-table tbody').html('<tr><td colspan=\"7\" style=\"text-align:center; color:red;\">Error loading data. Check database connection.</td></tr>');\r\n            }\r\n        });\r\n    }\r\n\r\n    function loadSuppliersTab() {\r\n        $.ajax({\r\n            url: 'api/read.php',\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            success: function(data) {\r\n                var rows = '';\r\n                if(data.length > 0) {\r\n                    $.each(data, function(i, item) {\r\n                        var statusBadge = getStatusBadge(item.status || 'Active');\r\n                        rows += `<tr>\r\n                            <td>${item.id}</td>\r\n                            <td>${item.company_name}</td>\r\n                            <td>${item.contact_person}</td>\r\n                            <td>${item.email}</td>\r\n                            <td>${item.phone}</td>\r\n                            <td>${item.address}</td>\r\n                            <td>${statusBadge}</td>\r\n                            <td>\r\n                                <button class=\"btn-sm btn-edit\" data-id=\"${item.id}\"><i class=\"fa-solid fa-pen\"></i></button>\r\n                                <button class=\"btn-sm btn-delete\" data-id=\"${item.id}\"><i class=\"fa-solid fa-trash\"></i></button>\r\n                            </td>\r\n                        </tr>`;\r\n                    });\r\n                } else {\r\n                    rows = '<tr><td colspan=\"8\" style=\"text-align:center\">No suppliers found.</td></tr>';\r\n                }\r\n                $('#suppliers-table-tab tbody').html(rows);\r\n            },\r\n            error: function() {\r\n                $('#suppliers-table-tab tbody').html('<tr><td colspan=\"8\" style=\"text-align:center; color:red;\">Error loading data. Check database connection.</td></tr>');\r\n            }\r\n        });\r\n    }\r\n\r\n    function updateSettingsInfo() {\r\n        $.ajax({\r\n            url: 'api/read.php',\r\n            type: 'GET',\r\n            dataType: 'json',\r\n            success: function(data) {\r\n                $('#db-status-settings').text('Connected').removeClass('badge-danger').addClass('badge-success');\r\n                $('#total-records-settings').text(data.length);\r\n            },\r\n            error: function() {\r\n                $('#db-status-settings').text('Disconnected').removeClass('badge-success').addClass('badge-danger');\r\n                $('#total-records-settings').text('N/A');\r\n            }\r\n        });\r\n    }\r\n\r\n    function showAlert(type, message) {\r\n        var alertBox = $('#alert-message');\r\n        alertBox.removeClass('alert-success alert-error').addClass(type === 'success' ? 'alert-success' : 'alert-error');\r\n        alertBox.text(message).fadeIn();\r\n        setTimeout(function() {\r\n            alertBox.fadeOut();\r\n        }, 3000);\r\n    }\r\n\r\n    // Get status badge color\r\n    function getStatusBadge(status) {\r\n        var badgeClass = 'badge-success';\r\n        if (status === 'Inactive') {\r\n            badgeClass = 'badge-secondary';\r\n        } else if (status === 'Suspended') {\r\n            badgeClass = 'badge-danger';\r\n        }\r\n        return `<span class=\"badge ${badgeClass}\">${status}</span>`;\r\n    }\r\n});\r\n"],"file":"script.dev.js"}